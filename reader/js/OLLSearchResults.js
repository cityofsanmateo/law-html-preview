(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{297:function(t,e,s){"use strict";s.r(e);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"area__tool__content search-results",attrs:{role:"tabpanel",tabindex:"-1"}},[""!=e.searchTerm?s("div",{staticClass:"search-results__info"},[s("p",[e._v("\n\t\t\tFound "),s("strong",[e._v(e._s(e.hitCount))]),e._v(" results for the term "),s("strong",[e._v('"'+e._s(e.searchTerm)+'"')]),e._v(" "),0<e.results.length&&e.results.length<e.hitCount?s("span",[s("br"),e._v("(Showing "+e._s(e.results.length)+")")]):e._e()])]):e._e(),e._v(" "),s("div",{staticClass:"search-results__container"},[e._l(e.results,function(t){return s("div",{key:t._id,staticClass:"search-result",attrs:{tabindex:"-1"}},[s("div",{staticClass:"search-result__url"},[s("a",{staticClass:"documentLink",attrs:{href:t._source.url,"data-hit_id":t._id},domProps:{innerHTML:e._s(t.highlight.title?t.highlight.title[0]:t._source.title)}})]),e._v(" "),s("div",{staticClass:"search-result__text",domProps:{innerHTML:e._s(t.highlight.body?t.highlight.body[0]:t._source.body)}})])}),e._v(" "),e.isLoading?s("OLLLoader",{attrs:{text:e.loadingMessage}}):e._e(),e._v(" "),0<e.hitCount&&e.results.length<e.hitCount?s("button",{staticClass:"button button--primary",attrs:{role:"button",type:"button"},on:{click:e.loadMore}},[s("span",{staticClass:"text"},[e._v("Load more results")]),e._v(" "),s("span",{staticClass:"icon icon-search",attrs:{"aria-label":"Search icon"}})]):e._e()],2)])};r._withStripped=!0;var n=s(119),a=s(0),o=s(32),i={name:"OLLSearchResults",components:{OLLLoader:n.a},mixins:[o.a],data:function(){return{batchSize:5}},computed:{results:function(){return this.$store.state.searchModule.results},hitCount:function(){return this.$store.state.searchModule.total},searchTerm:function(){return this.$store.state.searchModule.query},isLoading:function(){return this.$store.state.loadingModule.searchLoading},loadingMessage:function(){return a.c.SEARCH_LOADING}},watch:{results:function(t,e){this.$announcer.set(a.b.SEARCH_UPDATED)}},methods:{loadMore:function(){var t=this;this.$store.dispatch("doSearch",{q:this.searchTerm,path:"library",from:this.results.length}).then(function(){t.$nextTick(function(){var t=this.results.length-this.batchSize,e=document.querySelectorAll(".search-results__container > div.search-result");e[t]&&(e[t].scrollIntoView(),e[t].focus())})}).catch(function(t){console.error(t)})},announce:function(){this.loadedPage++,this.$announcer.set(a.b.SEARCH_UPDATED)}}},c=s(1),l=Object(c.a)(i,r,[],!1,null,null,null);l.options.__file="core__front-end/v1/reader/js/components/sidebar/search/tool/OLLSearchResults.vue";e.default=l.exports}}]);